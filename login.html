<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insolfége - Login</title>
   <style>
        :root {
            --color-dark: #190019;
            --color-mid: #2b124c;
            --color-accent: #522858;
            --color-light: #854F6C;
            --color-bg: #dfB6B2;
            --color-cream: #FBE4D8;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            background: linear-gradient(135deg, var(--color-bg), var(--color-accent));
            position: relative;
            color: var(--color-cream);
        }
   /* Variables de Color */



.registro-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: linear-gradient(135deg, var(--color-dark), var(--color-mid));
}

.registro-form {
    background: linear-gradient(135deg, var(--color-bg), var(--color-accent));
    padding: 2rem;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 400px;
    text-align: center;
}

.registro-form h2 {
    margin-bottom: 1.5rem;
    color: var(--color-cream);
}

.input-group {
    margin-bottom: 1rem;
    text-align: left;
}

.input-group label {
    font-size: 0.9rem;
    color: var(--color-cream);
    display: block;
    margin-bottom: 0.5rem;
}

.input-group input {
    width: 100%;
    padding: 0.8rem;
    border: 1px solid var(--color-cream);
    border-radius: 5px;
    font-size: 1rem;
    transition: border-color 0.3s;
}

.input-group input:focus {
    border-color: var(--color-acento);
    outline: none;
}

.error-message {
    color: red;
    font-size: 0.8rem;
    display: none;
}

.password-container {
    position: relative;
}


.password-hint {
    font-size: 0.8rem;
    color: var(--color-terciario);
}

.btn {
    background: var(--color-acento);
    color: white;
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
}

.btn:hover {
    background: var(--color-secundario);
}

*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
/*     font-family: 'Bowlby One SC', cursive; */
}

body{
    height: 100vh;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
}
.login{
    height: 550px;
    position: absolute;
}
.formulario{
    width: 400px;
    position: absolute;
    background-color: #fff;
    border: 5px solid #8f4790;
    border-radius: 10px;
    padding: 30px 60px;
    top: 290px;
    left: 50%;
    transform: translate(-50%);
    text-align: center;
}
.formulario input,label,button{
    display: block;
    width: 100%;
    margin: 5px 0;
}
.formulario input{
    height: 40px;
    border: 2px solid #8f4790;
    border-radius: 10px;
    padding: 0 8px;
}
.formulario button{
    margin-top: 20px;
    cursor: pointer;
    border: none;
    height: 40px;
    background-color: #824283;
    box-shadow: 1px 1px 2px #000;
    color: #fff;
}
.formulario button:hover{
    background-color: #8f4790;
}

/* Menú de Navegación */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: var(--color-dark);
    color: white;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    z-index: 1000;
}

.logo {
    font-weight: bold;
    font-size: 1.2rem;
}

.menu ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    gap: 2rem;
}

.menu a {
    color: white;
    text-decoration: none;
    transition: color 0.3s;
}

.menu a:hover {
    color: var(--color-bg);
}

.hamburger {
    display: none;
    flex-direction: column;
    gap: 3px;
    cursor: pointer;
}

.hamburger span {
    width: 25px;
    height: 3px;
    background: white;
    transition: transform 0.3s;
}

/* Responsive Design */
@media (max-width: 600px) {
    .menu {
        position: fixed;
        top: 60px;
        right: 0;
        width: 250px;
        height: calc(100vh - 60px);
        background: var(--color-dark);
        padding: 1rem;
        transform: translateX(100%);
        transition: transform 0.3s;
    }

    .menu.active {
        transform: translateX(0);
    }

    .menu ul {
        flex-direction: column;
        gap: 1rem;
    }

    .hamburger {
        display: flex;
    }
}
    </style>
</head>
<body>
<header class="navbar">
        <div class="logo">Insolfége</div>
        <nav class="menu">
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="registro.html">Registro</a></li>
                <li><a href="humor.html">Estado de Ánimo</a></li>
                <li><a href="sueno.html">Calidad del Sueño</a></li>

                <li><a href="reproductor.html">Sonidos Binaurales</a></li>

            </ul>
        </nav>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>
     <div class="login">
        <img src="img/idle/1.png" id="monster" alt="">
        <form class="formulario" id="loginForm">
            <label>Usuario</label>
            <input type="text" id="input-usuario" placeholder="giovanni.developer@gmail.com" autocomplete="off">
            <label>Contraseña</label>
            <input type="password" id="input-clave" placeholder="*******">
            <button type="submit">Login</button>
        </form>
    </div>
<!--     <script src="assets/js/menu.js"></script> -->
    <script type="module">const monster = document.getElementById('monster');
const inputUsuario = document.getElementById('input-usuario');
const inputClave = document.getElementById('input-clave');
const body = document.querySelector('body');
const anchoMitad = window.innerWidth / 2;
const altoMitad = window.innerHeight / 2;
let seguirPunteroMouse = true;

body.addEventListener('mousemove', (m) => {
    if (seguirPunteroMouse) {
        if (m.clientX < anchoMitad && m.clientY < altoMitad) {
            monster.src = "img/idle/2.png";
        } else if (m.clientX < anchoMitad && m.clientY > altoMitad) {
            monster.src = "img/idle/3.png";
        } else if (m.clientX > anchoMitad && m.clientY < altoMitad) {
            monster.src = "img/idle/5.png";
        } else {
            monster.src = "img/idle/4.png";
        }
    }
})

inputUsuario.addEventListener('focus',()=>{
    seguirPunteroMouse = false;
})

inputUsuario.addEventListener('blur',()=>{
    seguirPunteroMouse = true;
})

inputUsuario.addEventListener('keyup',()=>{
    let usuario = inputUsuario.value.length;
    if(usuario >= 0 && usuario<=5){
        monster.src = 'img/read/1.png';
    }else if(usuario >= 6 && usuario<=14){
        monster.src = 'img/read/2.png';
    }else if(usuario >= 15 && usuario<=20){
        monster.src = 'img/read/3.png';
    }else{
        monster.src = 'img/read/4.png';
    }
})

inputClave.addEventListener('focus',()=>{
    seguirPunteroMouse = false;
    let cont = 1;
    const cubrirOjo = setInterval(() => {
        monster.src = 'img/cover/'+cont+'.png';
        if(cont < 8){
            cont++;
        }else{
            clearInterval(cubrirOjo);
        }
    }, 60);
})

inputClave.addEventListener('blur',()=>{
    seguirPunteroMouse = true;
    let cont = 7;
    const descubrirOjo = setInterval(() => {
        monster.src = 'img/cover/'+cont+'.png';
        if(cont > 1){
            cont--;
        }else{
            clearInterval(descubrirOjo);
        }
    }, 60);
})

        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCyU6h56zzEtuJRr4JbNITCel9Z_K5HYQI",
            authDomain: "registreruser-42ae0.firebaseapp.com",
            projectId: "registreruser-42ae0",
            storageBucket: "registreruser-42ae0.firebasestorage.app",
            messagingSenderId: "676582374312",
            appId: "1:676582374312:web:9c3545678ecbc801a2bb9d"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

document.getElementById('loginForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const email = document.getElementById('input-usuario').value.trim();;
    const password = document.getElementById('input-clave').value.trim();

    try {
        // Intentar iniciar sesión con Firebase Authentication
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;

        // Redirigir al usuario a humor.html con su UID como parámetro
        window.location.href = `humor.html?userId=${user.uid}`;
        } catch (error) {
        // Mostrar mensaje de error si las credenciales son incorrectas
        alert(`Error: ${error.message}`);
        document.getElementById('input-clave').value = '';
    }





});
</script>
</body>
</html>
